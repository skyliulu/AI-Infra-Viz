import{c as d,r as o,j as e,Z as m,C as A}from"./index-CgH9oD-H.js";import{R as Q,P as I,a as T,S as C,D as j,C as P}from"./skip-forward-Cf0Y1zxr.js";/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=d("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=d("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=d("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=d("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=d("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=d("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=d("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=d("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),E=()=>{const[l,_]=o.useState("flash"),[r,h]=o.useState("idle"),[a,b]=o.useState(0),[c,x]=o.useState(!1),N=s=>{if(s===1)return{i:0,j:0,state:"setup",mask:null,deltaIo:0};if(s>=2&&s<=5){if(s===2)return{i:1,j:0,state:"load_q",mask:null,deltaIo:1,rangeQ:"0:63"};if(s===3)return{i:1,j:1,state:"compute",mask:"partial",deltaIo:2,rangeQ:"0:63",rangeK:"0:63"};if(s===4)return{i:1,j:2,state:"skip",mask:"skip",deltaIo:0,rangeQ:"0:63",rangeK:"64:127"};if(s===5)return{i:1,j:0,state:"write_o",mask:null,deltaIo:1}}if(s>=6&&s<=9){if(s===6)return{i:2,j:0,state:"load_q",mask:null,deltaIo:1,rangeQ:"64:127"};if(s===7)return{i:2,j:1,state:"compute",mask:"none",deltaIo:2,rangeQ:"64:127",rangeK:"0:63"};if(s===8)return{i:2,j:2,state:"compute",mask:"partial",deltaIo:2,rangeQ:"64:127",rangeK:"64:127"};if(s===9)return{i:2,j:0,state:"write_o",mask:null,deltaIo:1}}if(s>=10&&s<=13){if(s===10)return{i:3,j:0,state:"load_q",mask:null,deltaIo:1,rangeQ:"128:191"};if(s===11)return{i:3,j:1,state:"compute",mask:"none",deltaIo:2,rangeQ:"128:191",rangeK:"0:63"};if(s===12)return{i:3,j:2,state:"compute",mask:"none",deltaIo:2,rangeQ:"128:191",rangeK:"64:127"};if(s===13)return{i:3,j:0,state:"write_o",mask:null,deltaIo:1}}return{i:0,j:0,state:"done",mask:null,deltaIo:0}},t=N(a),p=(()=>{if(r==="idle")return 0;if(l==="standard")return a===1?0:a===2?210:a===3?610:(a>=4,820);{let s=0;for(let i=1;i<=a;i++)s+=N(i).deltaIo;return s}})(),z=850,M=()=>{if(r==="idle")return"IO 闲置";if(l==="standard"){if(a===1)return"分配 HBM 显存地址";if(a===2)return"搬运 Q,Kᵀ / 写回 S";if(a===3)return"搬运 S / 写回 P";if(a>=4)return"搬运 P,V / 写回 O"}else{if(a===1)return"SRAM 探测与切块对齐";if(t.state==="load_q")return`读取 Q${t.i} [${t.rangeQ}]`;if(t.state==="compute")return`读取 K${t.j},V${t.j} [${t.rangeK}]`;if(t.state==="skip")return`跳过未来分块 K${t.j}`;if(t.state==="write_o")return`写回 O${t.i} 最终结果`}return"计算结束"};o.useEffect(()=>{let s;if(c&&r!=="done"){let i=2200;a===0&&(i=500),a===1&&(i=3200),l==="flash"&&t.state==="skip"&&(i=1e3),s=setTimeout(()=>g(),i)}return()=>clearTimeout(s)},[c,r,a,l]);const g=()=>{r==="idle"?(h("running"),b(1)):r==="done"||(a<(l==="standard"?4:13)?b(a+1):(h("done"),x(!1)))},f=()=>{x(!1),h("idle"),b(0)},K=()=>{r==="done"&&f(),x(!c)},v=s=>{s!==l&&(_(s),f())},O=[{name:"Q",color:"indigo",shape:"vertical",blocks:3,labels:["0:63","64:127","128:191"],isActive:s=>l==="flash"?t.i===s+1&&t.state!=="setup":a>=2},{name:"K",color:"amber",shape:"horizontal",blocks:2,isTranspose:!0,labels:["0:63","64:127"],isActive:s=>l==="flash"?t.j===s+1&&t.state!=="skip":a>=2},{name:"V",color:"blue",shape:"vertical",blocks:2,labels:["0:63","64:127"],isActive:s=>l==="flash"?t.j===s+1&&t.state!=="skip":a>=4},{name:"O",color:"emerald",shape:"vertical",blocks:3,labels:["0:63","64:127","128:191"],isActive:s=>l!=="flash"?a>=4:s===0?a>=5:s===1?a>=9:s===2?a>=13:!1}];return e.jsx("div",{className:"min-h-screen bg-slate-50 text-slate-800 font-sans p-4 lg:p-6 selection:bg-indigo-100",children:e.jsxs("div",{className:"max-w-[90rem] mx-auto space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-4 lg:p-6 shadow-sm border border-slate-200 flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl lg:text-2xl font-bold flex items-center gap-2 text-indigo-900",children:[e.jsx(m,{className:"text-amber-500"}),"Flash Attention 原理全景可视化"]}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"突破显存墙：切块解耦 (Tiling)、掩码三种物理状态 (Mask) 与在线 Softmax 修正机制"})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[e.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg border border-slate-200 mr-2",children:[e.jsx("button",{onClick:()=>v("standard"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs lg:text-sm font-semibold rounded-md transition-all ${l==="standard"?"bg-white shadow-sm text-rose-700":"text-slate-500 hover:text-slate-700"}`,children:"标准 Attention (低效)"}),e.jsxs("button",{onClick:()=>v("flash"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs lg:text-sm font-semibold rounded-md transition-all ${l==="flash"?"bg-white shadow-sm text-emerald-700":"text-slate-500 hover:text-slate-700"}`,children:[e.jsx(m,{size:14})," Flash Attention (高效)"]})]}),e.jsx("button",{onClick:f,className:"p-2 rounded-lg bg-slate-100 text-slate-600 hover:bg-slate-200 transition",title:"重置",children:e.jsx(Q,{size:20})}),e.jsx("button",{onClick:K,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-white transition shadow-sm ${c?"bg-rose-500 hover:bg-rose-600":"bg-indigo-600 hover:bg-indigo-700"}`,children:c?e.jsxs(e.Fragment,{children:[e.jsx(I,{size:18})," 暂停"]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{size:18})," ",r==="done"?"重播":"自动播放"]})}),e.jsxs("button",{onClick:()=>{x(!1),g()},disabled:c||r==="done",className:"flex items-center gap-2 px-4 py-2 w-56 justify-center rounded-lg bg-white border border-slate-300 text-slate-700 hover:bg-indigo-50 hover:text-indigo-700 hover:border-indigo-300 disabled:opacity-50 transition shadow-sm font-semibold",children:[e.jsx(C,{size:18})," ",e.jsx("span",{className:"text-sm truncate",children:r==="idle"?"开始执行":l==="standard"?a===1?"初始化 Setup":a===2?"算 S 矩阵与掩码":a===3?"算 P (Softmax)":"输出 O 结果":a===1?"硬件感知 Setup":t.state==="load_q"?`载入 Q${t.i}`:t.state==="compute"?`计算 K${t.j}V${t.j}`:t.state==="skip"?"掩码跳过":`归一化写回 O${t.i}`})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"col-span-1 lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200 relative overflow-hidden flex flex-col gap-4",children:[e.jsx("h2",{className:"text-lg font-semibold flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"text-indigo-500",size:20})," 物理硬件：显存读写瓶颈可视化"]})}),e.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100 relative",children:[l==="flash"&&e.jsxs("div",{className:"absolute -top-3 right-4 bg-indigo-600 text-white text-[10px] px-2 py-0.5 rounded-full font-bold shadow-lg animate-pulse flex items-center gap-1",children:[e.jsx(w,{size:10})," GPU SM 并行中 (Parallel Mode)"]}),e.jsxs("div",{className:"flex justify-between items-end mb-2",children:[e.jsxs("span",{className:"text-sm font-bold text-slate-600 flex items-center gap-1",children:[e.jsx(w,{size:16})," 累计显存 IO 流量"]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`text-2xl font-black font-mono ${l==="standard"?"text-rose-600":"text-emerald-600"}`,children:p}),e.jsx("span",{className:"text-slate-500 text-sm ml-1",children:"MB"})]})]}),e.jsxs("div",{className:"w-full h-3 bg-slate-200 rounded-full overflow-hidden relative",children:[e.jsx("div",{className:`h-full rounded-full transition-all duration-700 ease-out ${l==="standard"?"bg-rose-500":"bg-emerald-500"}`,style:{width:`${Math.min(p/z*100,100)}%`}}),p>200&&e.jsx("div",{className:"absolute top-0 right-4 h-full text-[9px] text-rose-900 font-bold flex items-center",children:"Memory Wall!"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-stretch justify-center min-h-[26rem] mt-2",children:[e.jsxs("div",{className:"flex-[5] bg-slate-100 rounded-xl border-2 border-slate-300 p-4 flex flex-col items-center relative overflow-hidden",children:[e.jsxs("div",{className:"font-bold text-slate-700 flex items-center gap-1 bg-white px-3 py-1 rounded-full shadow-sm mb-2 z-10",children:[e.jsx(j,{size:14})," HBM (容量大/读写慢)"]}),e.jsxs("div",{className:"w-full flex-1 flex flex-col justify-start relative pt-2",children:[e.jsx("div",{className:"flex justify-center gap-2 md:gap-4 z-10 w-full items-end",children:O.map(s=>e.jsxs("div",{className:"flex flex-col items-center group",children:[e.jsx("span",{className:`font-serif font-bold mb-1 text-${s.color}-800`,children:s.isTranspose?e.jsxs(e.Fragment,{children:["K",e.jsx("sup",{className:"not-italic text-[10px]",children:"T"})]}):s.name}),e.jsx("div",{className:`
                             ${s.shape==="horizontal"?"w-24 md:w-32 h-10 md:h-12 flex-row":"w-10 md:w-12 h-28 md:h-32 flex-col"} 
                             border-2 rounded flex relative overflow-hidden shadow-sm border-${s.color}-300 transition-all duration-500
                           `,children:Array.from({length:s.blocks}).map((i,n)=>e.jsxs("div",{className:`flex-1 flex flex-col items-center justify-center transition-all duration-300 
                                  ${s.shape==="horizontal"&&n<s.blocks-1?`border-r border-dashed border-${s.color}-300`:""} 
                                  ${s.shape==="vertical"&&n<s.blocks-1?`border-b border-dashed border-${s.color}-300`:""} 
                                  ${s.isActive(n)?`bg-${s.color}-200 ring-inset ring-2 ring-${s.color}-400`:"bg-white"}`,children:[e.jsxs("span",{className:`font-serif text-[9px] font-bold ${s.isActive(n)?`text-${s.color}-900`:"text-slate-300"}`,children:[s.isTranspose?e.jsxs(e.Fragment,{children:["K",e.jsx("sup",{className:"not-italic",children:"T"})]}):s.name,e.jsx("sub",{children:n+1})]}),e.jsxs("span",{className:`text-[7px] font-mono mt-0.5 opacity-60 ${s.isActive(n)?"text-black":"text-slate-300"}`,children:["[",s.labels[n],"]"]})]},n))}),e.jsx("span",{className:"text-[9px] text-slate-500 font-serif mt-1 italic",children:s.shape==="horizontal"?"d×N":"N×d"})]},s.name))}),e.jsxs("div",{className:"flex justify-center items-center gap-4 w-full mt-4 flex-1",children:[e.jsxs("div",{className:`transition-all duration-500 flex flex-col items-center ${l==="standard"&&a>=2?"opacity-100 translate-y-0":"opacity-0 scale-50 translate-y-4"}`,children:[e.jsxs("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-rose-100 border-2 border-dashed border-rose-400 rounded shadow-sm flex items-center justify-center relative overflow-hidden",children:[l==="standard"&&a>=2&&e.jsx("div",{className:"absolute top-0 right-0 w-0 h-0 border-t-[4rem] border-t-slate-800/40 border-l-[4rem] border-l-transparent z-0"}),e.jsx("span",{className:"font-serif font-bold text-rose-800 text-xl italic z-10",children:"S"})]}),e.jsx("span",{className:"text-[9px] text-rose-600 font-serif mt-1 font-bold italic",children:"N×N 中间矩阵"})]}),e.jsxs("div",{className:`transition-all duration-500 flex flex-col items-center ${l==="standard"&&a>=3?"opacity-100 translate-y-0":"opacity-0 scale-50 translate-y-4"}`,children:[e.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-fuchsia-100 border-2 border-dashed border-fuchsia-400 rounded shadow-sm flex items-center justify-center relative overflow-hidden",children:e.jsx("span",{className:"font-serif font-bold text-fuchsia-800 text-xl italic z-10",children:"P"})}),e.jsx("span",{className:"text-[9px] text-fuchsia-600 font-serif mt-1 font-bold italic",children:"Softmax 结果"})]})]})]})]}),e.jsxs("div",{className:"flex-[2] flex md:flex-col justify-center items-center gap-1 md:gap-2 text-slate-400 relative py-4 md:py-0",children:[e.jsxs("div",{className:"absolute w-full text-center z-20 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center gap-1",children:[e.jsx("div",{className:"bg-slate-800 text-white text-[10px] px-2 py-1 rounded shadow-lg whitespace-nowrap hidden md:block",children:M()}),a>1&&r==="running"&&e.jsx("div",{className:"bg-emerald-500 text-white text-[9px] font-bold px-1.5 py-0.5 rounded animate-bounce shadow-md",children:l==="standard"?"+200MB!":`+${t.deltaIo}MB`})]}),e.jsx(y,{className:`hidden md:block transition-all duration-300 ${a>1&&t.state!=="skip"&&t.state!=="write_o"&&a!==4?"text-indigo-500 scale-150":""}`,size:28}),e.jsx(y,{className:`hidden md:block transition-all duration-300 rotate-180 ${l==="standard"&&(a===2||a===3)?"text-rose-500 scale-150":l==="flash"&&t.state==="write_o"?"text-emerald-500 scale-150":""}`,size:28})]}),e.jsxs("div",{className:"flex-[4] bg-amber-50 rounded-xl border-2 border-amber-200 p-4 flex flex-col items-center relative shadow-inner",children:[e.jsxs("div",{className:"font-bold text-amber-800 flex items-center gap-1 bg-white px-3 py-1 rounded-full shadow-sm mb-4 border border-amber-200",children:[e.jsx(A,{size:14})," SRAM (计算核心)"]}),e.jsx("div",{className:"flex-1 w-full flex flex-col items-center justify-center gap-4",children:l==="standard"?e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"text-[10px] text-slate-500 font-bold tracking-widest",children:"TRANSIENT ZONE"}),e.jsx("div",{className:`p-4 rounded border-2 border-dashed transition-all duration-500 
                          ${a===2?"bg-indigo-100 border-indigo-400":a===3?"bg-rose-100 border-rose-400":a>=4?"bg-fuchsia-100 border-fuchsia-400":"bg-white border-slate-300"}`,children:e.jsx("span",{className:"font-serif font-bold text-lg italic",children:a<=1?"EMPTY":a===2?e.jsxs(e.Fragment,{children:["Q, K",e.jsx("sup",{className:"not-italic",children:"T"})]}):a===3?"S":"P, V"})})]}):e.jsxs("div",{className:"w-full flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border border-indigo-200 shadow-sm transition-all",children:[e.jsx("span",{className:"text-[10px] text-indigo-600 font-bold",children:"Q-STATIC"}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-8 md:w-12 md:h-10 rounded flex items-center justify-center font-serif text-sm font-bold transition-all ${t.i>0?"bg-indigo-100 text-indigo-800 border-2 border-indigo-400 scale-110 shadow":"bg-slate-50 text-slate-300 border border-slate-200"}`,children:t.i>0?e.jsxs(e.Fragment,{children:["Q",e.jsx("sub",{className:"not-italic",children:t.i})]}):"-"}),e.jsx("span",{className:`text-[7px] font-mono mt-0.5 ${t.i>0?"text-indigo-500 font-bold":"text-transparent"}`,children:"Br×d"})]})]}),e.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border border-amber-200 shadow-sm relative transition-all",children:[e.jsx("span",{className:"text-[10px] text-amber-600 font-bold",children:"KV-ROTATING"}),t.state==="skip"&&e.jsxs("div",{className:"absolute inset-0 bg-rose-500/80 text-white text-[9px] font-bold rounded flex items-center justify-center z-20 animate-pulse",children:[e.jsx(u,{size:10,className:"mr-1"})," Causal Skip!"]}),e.jsxs("div",{className:`flex gap-2 items-end transition-all duration-300 ${t.state==="skip"?"opacity-20 blur-[1px]":""}`,children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-6 md:w-12 md:h-8 rounded flex items-center justify-center font-serif text-xs font-bold transition-all ${t.j>0?"bg-amber-100 text-amber-800 border-2 border-amber-400 shadow":"bg-slate-50 text-slate-300 border border-slate-200"}`,children:t.j>0?e.jsxs(e.Fragment,{children:["K",e.jsx("sup",{className:"not-italic text-[7px]",children:"T"}),e.jsx("sub",{className:"not-italic text-[7px]",children:t.j})]}):"-"}),e.jsx("span",{className:`text-[7px] font-mono mt-0.5 ${t.j>0?"text-amber-600":"text-transparent"}`,children:"d×Bc"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded flex items-center justify-center font-serif text-xs font-bold transition-all ${t.j>0?"bg-blue-100 text-blue-800 border-2 border-blue-400 shadow":"bg-slate-50 text-slate-300 border border-slate-200"}`,children:t.j>0?e.jsxs(e.Fragment,{children:["V",e.jsx("sub",{className:"not-italic",children:t.j})]}):"-"}),e.jsx("span",{className:`text-[7px] font-mono mt-0.5 ${t.j>0?"text-blue-500":"text-transparent"}`,children:"Bc×d"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between bg-emerald-50 p-2 rounded border border-emerald-200 shadow-inner",children:[e.jsx("span",{className:"text-[10px] text-emerald-700 font-bold uppercase tracking-tighter",children:"On-Chip Stats"}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs("div",{className:`flex items-center gap-2 text-xs font-serif italic font-bold transition-colors ${t.i>0?"text-emerald-700":"text-slate-300"}`,children:[e.jsx("span",{children:"O, m, l"}),t.state==="compute"&&e.jsx($,{size:12,className:"animate-spin-slow"})]}),e.jsx("span",{className:`text-[7px] font-mono ${t.i>0?"text-emerald-600 font-bold":"text-transparent"}`,children:"O: Br×d"})]})]})]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-stretch",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200 h-full flex flex-col min-w-0",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-6 flex items-center justify-between shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"text-indigo-500",size:20})," 微观计算流水线"]}),e.jsx("span",{className:`text-[10px] px-2 py-1 rounded-full font-bold uppercase tracking-wider ${l==="flash"?"bg-emerald-100 text-emerald-800 border border-emerald-200":"bg-rose-100 text-rose-800 border border-rose-200"}`,children:l==="flash"?"Tiling (分块)":"Standard (标准)"})]}),e.jsx("div",{className:"relative p-2 md:p-4 border-2 border-dashed border-indigo-200 rounded-xl bg-indigo-50/30 flex-1 overflow-x-auto",children:e.jsx("div",{className:"relative z-10 flex flex-col gap-3",children:l==="standard"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`p-3 rounded border transition-all duration-300 shadow-sm ${a===1?"bg-slate-800 border-slate-900 text-white scale-105 shadow-lg":"bg-slate-100/50 border-slate-200 text-slate-500"}`,children:[e.jsxs("div",{className:"font-semibold text-sm text-center mb-2 flex items-center justify-center gap-2",children:[e.jsx(S,{size:16})," Setup 初始化"]}),e.jsxs("div",{className:`text-center font-mono p-2 rounded border text-xs ${a===1?"bg-slate-900 border-slate-700 text-slate-300":"bg-white border-slate-200 text-slate-400"}`,children:["分配 2 个 ",e.jsx("span",{className:`${a===1?"text-rose-400 font-black":""}`,children:"N×N"})," 显存矩阵"]})]}),e.jsxs("div",{className:`p-3 rounded border transition-all duration-300 shadow-sm ${a===2?"bg-blue-50 border-blue-400 ring-2 ring-blue-200 scale-105":"bg-white border-slate-200 text-slate-400 opacity-60"}`,children:[e.jsx("div",{className:`font-semibold text-sm text-center mb-2 ${a===2?"text-blue-900":""}`,children:"1. 计算注意力分数 & 因果掩码"}),e.jsxs("div",{className:"text-center font-serif bg-white p-2 rounded border border-blue-100 text-sm",children:[e.jsx("span",{className:"italic",children:"S"})," = ",e.jsx("span",{className:"italic",children:"QK"}),e.jsx("sup",{className:"not-italic",children:"T"}),e.jsx("div",{className:`text-[10px] font-sans mt-1 font-bold ${a===2?"text-rose-500":"text-slate-400"}`,children:"UpperTri ← -∞ (屏蔽未来)"})]})]}),e.jsxs("div",{className:`p-3 rounded border transition-all duration-300 shadow-sm ${a===3?"bg-fuchsia-50 border-fuchsia-400 ring-2 ring-fuchsia-200 scale-105":"bg-white border-slate-200 text-slate-400 opacity-60"}`,children:[e.jsx("div",{className:`font-semibold text-sm text-center mb-2 ${a===3?"text-fuchsia-900":""}`,children:"2. 计算 Softmax 概率矩阵"}),e.jsxs("div",{className:"text-center font-serif bg-white p-2 rounded border border-fuchsia-100 text-sm",children:[e.jsx("span",{className:"italic",children:"P"})," = Softmax(",e.jsx("span",{className:"italic",children:"S"}),")"]})]}),e.jsxs("div",{className:`p-3 rounded border transition-all duration-300 shadow-sm ${a>=4?"bg-purple-50 border-purple-400 ring-2 ring-purple-200 scale-105":"bg-white border-slate-200 text-slate-400 opacity-60"}`,children:[e.jsx("div",{className:`font-semibold text-sm text-center mb-2 ${a>=4?"text-purple-900":""}`,children:"3. 计算输出 O 矩阵"}),e.jsxs("div",{className:"text-center font-serif bg-white p-2 rounded border border-purple-100 text-sm",children:[e.jsx("span",{className:"italic",children:"O"})," = ",e.jsx("span",{className:"italic",children:"PV"})]})]})]}):e.jsxs("div",{className:"w-full flex flex-col gap-2",children:[e.jsxs("div",{className:`p-3 rounded-xl border-2 transition-all duration-300 shadow-sm ${a===1?"bg-slate-800 border-slate-900 text-white scale-105 z-10 shadow-lg":"bg-slate-100/50 border-slate-200 text-slate-500"}`,children:[e.jsxs("div",{className:"font-semibold text-sm text-center mb-2 flex items-center justify-center gap-2 tracking-widest uppercase font-mono",children:[e.jsx(S,{size:16})," Hardware-Aware Setup"]}),e.jsxs("div",{className:`text-center font-serif p-2 rounded border text-[11px] flex flex-col gap-1.5 ${a===1?"bg-slate-900 border-slate-700 text-slate-300":"bg-white border-slate-200 text-slate-400"}`,children:[e.jsxs("div",{className:"flex justify-between px-2",children:[e.jsx("span",{children:"K/V 列块大小:"})," ",e.jsxs("span",{className:"font-bold text-amber-400",children:[e.jsx("span",{className:"italic",children:"B"}),e.jsx("sub",{className:"not-italic",children:"c"})," = ⌈ ",e.jsx("span",{className:"italic",children:"M"})," / 4",e.jsx("span",{className:"italic",children:"d"})," ⌉"]})]}),e.jsxs("div",{className:"flex justify-between px-2 border-t border-slate-800 pt-1",children:[e.jsx("span",{children:"Q/O 行块大小:"})," ",e.jsxs("span",{className:"font-bold text-indigo-400",children:[e.jsx("span",{className:"italic",children:"B"}),e.jsx("sub",{className:"not-italic",children:"r"})," = min(",e.jsx("span",{className:"italic",children:"B"}),e.jsx("sub",{className:"not-italic",children:"c"}),", ",e.jsx("span",{className:"italic",children:"d"}),")"]})]})]})]}),e.jsxs("div",{className:"border-2 border-rose-300 rounded-xl p-2 md:p-3 bg-rose-50/30 relative mt-2",children:[e.jsx("div",{className:"absolute -top-3 left-4 bg-white px-2 text-xs font-bold text-rose-600 border border-rose-200 rounded shadow-sm flex items-center gap-1",children:"Parallel Outer Loop (Q)"}),e.jsx("div",{className:"font-serif text-[11px] text-rose-800 mb-2 mt-1 flex gap-1.5",children:[1,2,3].map(s=>e.jsxs("span",{className:`px-2 py-0.5 rounded border transition-all duration-300 ${t.i===s?"bg-rose-200 border-rose-400 font-bold scale-105 shadow-sm":"bg-white/50 border-rose-100 opacity-50"}`,children:[e.jsx("span",{className:"italic",children:"i"}),"=",s]},s))}),e.jsxs("div",{className:`border-2 border-amber-400 rounded-lg p-2 md:p-3 bg-amber-50/50 relative mt-4 transition-all duration-500 ${t.j>0?"opacity-100 shadow-md ring-2 ring-amber-200":"opacity-40 border-dashed"}`,children:[e.jsx("div",{className:"absolute -top-3 left-4 bg-white px-2 text-[10px] font-bold text-amber-700 border border-amber-200 rounded shadow-sm",children:"Inner Serial Loop (KV)"}),e.jsx("div",{className:"font-serif text-[11px] text-amber-800 mb-2 mt-1 flex gap-2 relative",children:[1,2].map(s=>e.jsxs("span",{className:`px-2 py-0.5 rounded border transition-all duration-300 relative ${t.j===s?"bg-amber-200 border-amber-500 font-bold scale-105 shadow-sm":"bg-white/50 border-amber-100 opacity-50"}`,children:[e.jsx("span",{className:"italic",children:"j"}),"=",s,t.j===s&&t.mask==="skip"&&e.jsx("div",{className:"absolute -top-6 left-0 bg-rose-500 text-white text-[8px] px-1.5 rounded-full font-sans font-bold shadow animate-bounce",children:"CAUSAL SKIP"})]},s))}),t.j>0&&e.jsx("div",{className:`text-[10px] font-bold px-2 py-1.5 rounded mb-2 border flex items-center gap-2 shadow-sm
                                  ${t.mask==="skip"?"bg-rose-100 text-rose-700 border-rose-300 animate-pulse":t.mask==="partial"?"bg-amber-100 text-amber-700 border-amber-300":"bg-emerald-100 text-emerald-800 border-emerald-300"}`,children:t.mask==="skip"?e.jsxs(e.Fragment,{children:[e.jsx(u,{size:12})," 未来块: K 完全在 Q 之后"]}):t.mask==="partial"?e.jsxs(e.Fragment,{children:[e.jsx(k,{size:12})," 局部掩码: Q, K 对角线重叠"]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{size:12})," 全量计算: K 完全属于过去"]})}),e.jsxs("div",{className:`bg-white border border-slate-200 rounded p-2 flex flex-col gap-1 font-serif text-[10px] xl:text-[11px] mt-2 transition-all duration-300 ${t.state==="skip"?"opacity-30 blur-[0.5px]":"opacity-100"}`,children:[e.jsx("div",{className:"text-slate-400 text-[8px] font-sans font-bold uppercase border-b border-slate-100 pb-0.5 mb-1",children:"On-Chip Update (SRAM)"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{children:["1. ",e.jsx("span",{className:"italic",children:"S"}),e.jsx("sub",{className:"not-italic",children:"ij"})," = ",e.jsx("span",{className:"italic",children:"Q"}),e.jsx("sub",{className:"not-italic",children:"i"}),e.jsx("span",{className:"italic",children:"K"}),e.jsx("sub",{className:"not-italic",children:"j"}),e.jsx("sup",{className:"not-italic",children:"T"})]}),t.mask==="partial"&&e.jsx("span",{className:"text-[8px] text-amber-600 font-bold bg-amber-50 px-1 rounded border border-amber-200",children:"+ MASK"})]}),e.jsxs("div",{className:"flex items-center justify-between text-emerald-700",children:[e.jsxs("span",{children:["2. ",e.jsx("span",{className:"italic",children:"m"}),e.jsx("sup",{className:"not-italic",children:"new"})," = max(",e.jsx("span",{className:"italic",children:"m"}),", max(",e.jsx("span",{className:"italic",children:"S"}),e.jsx("sub",{className:"not-italic",children:"ij"}),"))"]}),e.jsx("span",{className:"text-[7px] font-sans opacity-60",children:"数值稳定"})]}),e.jsx("div",{className:"flex justify-between text-emerald-700",children:e.jsxs("span",{children:["3. ",e.jsx("span",{className:"italic",children:"l"}),e.jsx("sup",{className:"not-italic",children:"new"})," = exp(",e.jsx("span",{className:"italic",children:"m-m"}),e.jsx("sup",{className:"not-italic",children:"new"}),")·",e.jsx("span",{className:"italic",children:"l"})," + ∑exp(",e.jsxs("span",{className:"italic",children:["S",e.jsx("sub",{className:"not-italic",children:"ij"}),"-m"]}),e.jsx("sup",{className:"not-italic",children:"new"}),")"]})}),e.jsxs("div",{className:"flex flex-col text-indigo-700 mt-1 bg-indigo-50/50 p-1.5 rounded gap-1 border border-indigo-100",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{children:["4a. ",e.jsx("span",{className:"italic",children:"O"}),e.jsx("sub",{className:"not-italic",children:"i"})," ← ",e.jsx("span",{className:"italic",children:"O"}),e.jsx("sub",{className:"not-italic",children:"i"})," · exp(",e.jsx("span",{className:"italic",children:"m-m"}),e.jsx("sup",{className:"not-italic",children:"new"}),")"]}),e.jsx("span",{className:"text-[7px] italic opacity-60",children:"历史纠正"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{children:["4b. ",e.jsx("span",{className:"italic",children:"O"}),e.jsx("sub",{className:"not-italic",children:"i"})," ← ",e.jsx("span",{className:"italic",children:"O"}),e.jsx("sub",{className:"not-italic",children:"i"})," + exp(",e.jsxs("span",{className:"italic",children:["S",e.jsx("sub",{className:"not-italic",children:"ij"}),"-m"]}),e.jsx("sup",{className:"not-italic",children:"new"}),")",e.jsx("span",{className:"italic",children:"V"}),e.jsx("sub",{className:"not-italic",children:"j"})]}),e.jsx("span",{className:"text-[7px] italic opacity-60",children:"增量累加"})]})]})]})]}),e.jsxs("div",{className:`mt-3 flex flex-col items-center p-2 rounded border transition-all duration-500 ${t.state==="write_o"?"bg-emerald-600 border-emerald-700 shadow-lg scale-[1.02] text-white":"bg-slate-50 border-slate-200 text-slate-400 opacity-60"}`,children:[e.jsx("div",{className:"text-center text-[9px] font-bold mb-1 uppercase tracking-widest font-mono",children:"Normalize & Write-Back"}),e.jsxs("div",{className:`font-serif text-[11px] md:text-[13px] font-bold px-4 py-1 rounded-full border transition-all ${t.state==="write_o"?"bg-white text-emerald-900 border-emerald-200 animate-pulse":"bg-slate-100 border-slate-200"}`,children:[e.jsx("span",{className:"italic",children:"O"}),e.jsx("sub",{className:"not-italic",children:t.i||"i"})," = (1 / ",e.jsx("span",{className:"italic",children:"l"}),") · ",e.jsx("span",{className:"italic",children:"O"}),e.jsx("sub",{className:"not-italic",children:t.i||"i"})]})]})]})]})})})]}),e.jsxs("div",{className:"bg-slate-900 rounded-2xl p-6 shadow-lg border border-slate-800 text-slate-300 h-full flex flex-col min-w-0",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 flex items-center justify-between text-white shrink-0",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"text-emerald-400",size:20})," 底层代码 ",e.jsx("span",{className:"text-[10px] text-slate-500 font-mono tracking-wider",children:"CUDA_KERNEL.CU"})]})}),e.jsx("div",{className:"font-mono text-[10px] md:text-xs xl:text-[13px] overflow-x-auto bg-[#0d1117] p-4 rounded-lg border border-slate-800 flex-1 leading-relaxed",children:l==="standard"?e.jsxs("div",{className:"whitespace-pre block",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-emerald-400",children:"def"})," ",e.jsx("span",{className:"text-blue-400",children:"standard_attention"}),"(Q, K, V):"]}),e.jsx("br",{}),e.jsxs("div",{className:a===1?"bg-slate-800 text-slate-200 px-1 -mx-1 rounded border-l-2 border-slate-400 font-bold":"text-slate-400",children:[e.jsxs("div",{children:["  ",e.jsx("span",{className:"text-slate-500 font-normal",children:"# Setup: 向显存申请 O(N²) 极大空间"})]}),e.jsx("div",{children:"  S_buf = allocate_hbm(N, N)"}),e.jsx("div",{children:"  P_buf = allocate_hbm(N, N)"})]}),e.jsx("br",{}),e.jsxs("div",{className:a===2?"bg-blue-900/60 text-blue-200 px-1 -mx-1 rounded border-l-2 border-blue-400":"text-slate-400",children:[e.jsxs("div",{children:["  ",e.jsx("span",{className:"text-slate-500",children:"# 1. 算 QKᵀ 并一次性写满 HBM 显存带宽"})]}),e.jsx("div",{children:"  S_buf = Q @ K.T + Mask"})]}),e.jsx("br",{}),e.jsxs("div",{className:a===3?"bg-fuchsia-900/50 text-fuchsia-200 px-1 -mx-1 rounded border-l-2 border-fuchsia-400":"text-slate-400",children:[e.jsxs("div",{children:["  ",e.jsx("span",{className:"text-slate-500",children:"# 2. 从 HBM 读 S, 计算 Softmax, 再写回 P"})]}),e.jsx("div",{children:"  P_buf = softmax(S_buf)"})]}),e.jsx("br",{}),e.jsxs("div",{className:a>=4?"bg-purple-900/60 text-purple-200 px-1 -mx-1 rounded border-l-2 border-purple-400":"text-slate-400",children:[e.jsxs("div",{children:["  ",e.jsx("span",{className:"text-slate-500",children:"# 3. 最后一次搬运写回最终 O"})]}),e.jsx("div",{children:"  O = P_buf @ V"}),e.jsxs("div",{children:["  ",e.jsx("span",{className:"text-emerald-400",children:"return"})," O"]})]})]}):e.jsxs("div",{className:"whitespace-pre block",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-emerald-400",children:"__global__"})," ",e.jsx("span",{className:"text-blue-400",children:"flash_attn_kernel"}),"(...):"]}),e.jsx("br",{}),e.jsxs("div",{className:a===1?"bg-slate-800 text-slate-200 px-1 -mx-1 rounded border-l-2 border-slate-400 font-bold":"text-slate-400",children:[e.jsxs("div",{children:["  ",e.jsx("span",{className:"text-slate-500 font-normal",children:"// 硬件感知 Setup: 计算切块大小时解耦 Q 与 KV"})]}),e.jsx("div",{children:"  Bc = ceil(M / (4*d)); Br = min(Bc, d);"})]}),e.jsx("br",{}),e.jsxs("div",{className:t.i>0?"bg-rose-900/40 text-rose-200 px-1 -mx-1 rounded border-l-2 border-rose-400 font-bold":"text-slate-400",children:[e.jsxs("div",{children:["  ",e.jsx("span",{className:"text-emerald-400",children:"for"})," i ",e.jsx("span",{className:"text-emerald-400",children:"in"})," ",e.jsx("span",{className:"text-blue-300",children:"range"}),"(Q_blocks): "]}),e.jsx("div",{children:"      Qi = Q[i]; m, l = -inf, 0;"})]}),e.jsxs("div",{className:t.j>0?"bg-amber-900/40 text-amber-200 px-1 -mx-1 rounded border-l-2 border-amber-400 ml-4 mt-1":"text-slate-400 ml-4 mt-1",children:[e.jsxs("div",{children:["      ",e.jsx("span",{className:"text-emerald-400",children:"for"})," j ",e.jsx("span",{className:"text-emerald-400",children:"in"})," ",e.jsx("span",{className:"text-blue-300",children:"range"}),"(KV_blocks):"]}),e.jsxs("div",{className:t.state==="skip"?"bg-rose-600 text-white font-bold px-1 rounded inline-block":"",children:["          ",e.jsx("span",{className:"text-emerald-400",children:"if"})," start(K[j]) > end(Q[i]): ",e.jsx("span",{className:"text-emerald-400",children:"continue"})]}),e.jsx("br",{}),e.jsx("div",{children:"          Kj, Vj = K[j], V[j]; S_ij = Qi @ Kj.T;"}),e.jsxs("div",{className:t.mask==="partial"?"bg-amber-600 text-white font-bold px-1 rounded inline-block":"",children:["          ",e.jsx("span",{className:"text-emerald-400",children:"if"})," is_diagonal: S_ij += Mask_ij;"]}),e.jsx("br",{}),e.jsx("div",{children:"          m_new = max(m, max(S_ij));"}),e.jsx("div",{children:"          l_new = exp(m-m_new)*l + sum(exp(S_ij-m_new));"}),e.jsx("div",{className:"text-indigo-300 font-bold",children:"          O_i = O_i * exp(m-m_new) + exp(S_ij-m_new)@Vj;"}),e.jsx("div",{children:"          m, l = m_new, l_new;"})]}),e.jsx("div",{className:t.state==="write_o"?"bg-emerald-900/60 text-emerald-200 px-1 -mx-1 rounded font-bold mt-1":"text-slate-400 mt-1",children:e.jsxs("div",{children:["      O[i] = (1 / l) * O_i; ",e.jsx("span",{className:"text-slate-500 font-normal",children:"// 仅在外层写回一次"})]})})]})})]})]})]}),e.jsx("div",{className:"col-span-1 space-y-6",children:e.jsxs("div",{className:"bg-indigo-900 text-indigo-50 rounded-2xl p-6 shadow-xl h-full flex flex-col border border-indigo-700",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 text-white border-b border-indigo-700 pb-2 flex items-center gap-2",children:[e.jsx(k,{size:18,className:"text-indigo-300"})," 原理深度解析"]}),e.jsxs("div",{className:"space-y-4 text-sm leading-relaxed flex-1",children:[a===0&&e.jsxs("div",{className:"text-center py-10 opacity-70",children:[e.jsx(j,{size:48,className:"mx-auto mb-4 text-indigo-400 opacity-20"}),e.jsxs("p",{children:["等待初始化...",e.jsx("br",{}),"请选择模式并点击“开始执行”"]})]}),l==="standard"&&a>=1&&e.jsxs("div",{className:"animate-fade-in space-y-3",children:[e.jsx("h4",{className:"font-bold text-rose-300 text-base",children:"内存墙：效率的杀手"}),e.jsxs("p",{className:"opacity-90 text-[13px]",children:["标准 Attention 在每一步中间计算后都必须将全量 $N \\times N$ 矩阵写回 HBM。当 $N=8K$ 时，中间显存占用将超过 ",e.jsx("strong",{className:"text-rose-400",children:"256MB 每头"}),"。"]}),e.jsxs("div",{className:"bg-rose-950/50 p-3 rounded-lg border border-rose-800 text-xs text-rose-200 italic font-mono",children:["// IO Traffic ∝ N*d + N",e.jsx("sup",{children:"2"})]})]}),l==="flash"&&a>=1&&e.jsxs("div",{className:"animate-fade-in space-y-4",children:[e.jsxs("div",{className:"p-3 bg-indigo-950/50 rounded-lg border border-indigo-700",children:[e.jsxs("h4",{className:"font-bold text-emerald-300 text-sm mb-1 flex items-center gap-2",children:[e.jsx(m,{size:14})," 核心 1：硬件感知解耦"]}),e.jsxs("p",{className:"text-[12px] opacity-80",children:["Flash 探测 SRAM 的物理大小 M。为了塞进计算核心，算法解耦计算出 ",e.jsxs("span",{className:"font-serif italic",children:["B",e.jsx("sub",{children:"c"})]})," (KV块) 和 ",e.jsxs("span",{className:"font-serif italic",children:["B",e.jsx("sub",{children:"r"})]})," (Q块)。"]})]}),e.jsxs("div",{className:"p-3 bg-amber-950/50 rounded-lg border border-amber-800",children:[e.jsxs("h4",{className:"font-bold text-amber-300 text-sm mb-1 flex items-center gap-2",children:[e.jsx($,{size:14})," 核心 2：数值稳定性保护"]}),e.jsxs("p",{className:"text-[12px] opacity-80",children:["Online Softmax 实时追踪最大值 ",e.jsx("span",{className:"font-mono text-amber-400",children:"m"}),"。这不仅是为了分块，更重要是防止指数项发生 ",e.jsx("strong",{className:"text-white",children:"浮点溢出"}),"。通过指数差值因子，算法完美修正了历史结果。"]})]}),e.jsxs("div",{className:"p-3 bg-rose-950/50 rounded-lg border border-rose-800",children:[e.jsxs("h4",{className:"font-bold text-rose-300 text-sm mb-1 flex items-center gap-2",children:[e.jsx(u,{size:14})," 核心 3：掩码状态优化"]}),e.jsxs("p",{className:"text-[12px] opacity-80",children:["这是 Flash 的性能杀器。判断分块索引：",e.jsx("br",{}),"1. ",e.jsx("strong",{className:"text-emerald-400",children:"Past"}),": 无掩码裸奔。",e.jsx("br",{}),"2. ",e.jsx("strong",{className:"text-amber-400",children:"Intersect"}),": 局部对角线 Mask。",e.jsx("br",{}),"3. ",e.jsx("strong",{className:"text-rose-400",children:"Future"}),": 整块跳过加载，大幅省电！"]})]}),a>=13&&e.jsxs("div",{className:"mt-2 p-3 bg-emerald-600/20 border border-emerald-500 rounded-xl text-center",children:[e.jsx(m,{className:"inline mr-2 text-amber-400",size:16}),e.jsx("span",{className:"font-bold text-white text-[13px]",children:"IO 复杂度从 $O(N^2)$ 降为 $O(N)$！"})]})]})]})]})})]})]})})};export{E as default};
